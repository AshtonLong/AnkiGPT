<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ title or "AnkiGPT" }}</title>
  <meta name="description"
    content="Transform any document into perfectly crafted Anki flashcards using AI. Upload, generate, export - done.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link
    href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&family=Space+Mono:wght@400;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>

<body>
  <!-- Animated Mesh Background -->
  <div class="mesh-bg">
    <svg viewBox="0 0 1000 900" preserveAspectRatio="xMidYMid slice">
      <defs>
        <linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:.08" />
          <stop offset="50%" style="stop-color:#ffd93d;stop-opacity:.05" />
          <stop offset="100%" style="stop-color:#6bff9e;stop-opacity:.08" />
        </linearGradient>
        <linearGradient id="g2" x1="100%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" style="stop-color:#6bb5ff;stop-opacity:.06" />
          <stop offset="100%" style="stop-color:#c06bff;stop-opacity:.06" />
        </linearGradient>
      </defs>
      <path class="mesh-blob" fill="url(#g1)"
        d="M800,200Q750,400,600,350Q450,300,350,500Q250,700,500,750Q750,800,800,600Q850,400,800,200Z" />
      <path class="mesh-blob2" fill="url(#g2)"
        d="M200,600Q300,400,450,500Q600,600,550,400Q500,200,350,250Q200,300,200,600Z" />
    </svg>
  </div>
  <div class="grain"></div>

  <!-- Top Navigation -->
  <header class="topbar">
    <div class="container">
      <a href="{{ url_for('main.index') }}" class="logo" aria-label="AnkiGPT Home">
        <span class="logo-main">Anki</span><span class="logo-accent">GPT</span><span class="logo-dot"
          aria-hidden="true"></span>
      </a>
      <nav class="nav">
        <a href="{{ url_for('main.decks') }}">Decks</a>
        <a href="{{ url_for('main.new_deck') }}">New Deck</a>
        {% if current_user.is_authenticated %}
        <form action="{{ url_for('auth.logout') }}" method="post">
          <button class="link">Logout</button>
        </form>
        {% else %}
        <a href="{{ url_for('auth.login') }}">Login</a>
        {% endif %}
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container">
    {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
    <div class="flash">
      {% for category, message in messages %}
      <div class="flash-item {{ category }}">{{ message }}</div>
      {% endfor %}
    </div>
    {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>
</body>

</html>
